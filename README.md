## –°–µ—Ä–≤–µ—Ä –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã (–æ–¥–∏–Ω): 
- `/process`
    
–ü–æ—Ä—Ç: `8082`  

### –û–ø–∏—Å–∞–Ω–∏–µ

–°–µ—Ä–≤–µ—Ä –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç API –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã –Ω–µ–π—Ä–æ–Ω–Ω—ã—Ö —Å–µ—Ç–∏ –ø–æ –æ–±—Ä–∞–±–æ—Ç–∫–µ, –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏... –∏ –ø—Ä–æ—á–µ–º—É.  
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è yolov4, yolo9000, efnet –∏ YandexGPT.

### –ú–µ—Ç–æ–¥—ã

#### `POST /process`

–ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ–∞–π–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ —Å –∏–º–µ–Ω–µ–º `file`.
–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –Ω–µ–π—Ä–æ–Ω–Ω—ã—Ö —Å–µ—Ç–µ–π –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON-–æ—Ç–≤–µ—Ç —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏. 
–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ø–∞–ø–∫—É `src/main/resources/static`.  
–ü–∞–ø–∫—É –∏–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —á–∏—Å—Ç–∏—Ç—å, —Å–∞–º–∞ –æ–Ω–∞ –ø–æ–∫–∞ –Ω–µ –æ—á–∏—â–∞–µ—Ç—Å—è.

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ –Ω–∞ [—ç—Ç—É —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é](https://drive.google.com/file/d/1Dh59MrVV0VmDPdkDpon-4EzaZXVbc3nz/view?usp=sharing):

```json
{
  "imageName": "üçì.jpeg",
  "imageWidth": 828.0,
  "imageHeight": 766.0,
  "ruTags": [
    "–º–∞—à–∏–Ω–∞",
    "—Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å, —Å–ø–æ—Ä—Ç–∏–≤–Ω–∞—è –º–∞—à–∏–Ω–∞",
    "–∞–≤—Ç–æ–º–æ–±–∏–ª—å"
  ],
  "enTags": [
    "car",
    "sports car, sport car"
  ],
  "text": "–ù–∞ —ç—Ç–æ–π —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –º—ã –≤–∏–¥–∏–º —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–≥–ª—è–¥–∏—Ç –æ—á–µ–Ω—å –º–æ—â–Ω–æ –∏ –¥–∏–Ω–∞–º–∏—á–Ω–æ. –û–Ω –∏–º–µ–µ—Ç —è—Ä–∫–æ-–∫—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç –∏ —á–µ—Ä–Ω—ã–µ –¥–∏—Å–∫–∏ –Ω–∞ –∫–æ–ª–µ—Å–∞—Ö, —á—Ç–æ –ø—Ä–∏–¥–∞–µ—Ç –µ–º—É –µ—â–µ –±–æ–ª—å—à–µ —Å—Ç–∏–ª—è –∏ —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ—Å—Ç–∏.\n\n–ù–∞ –∑–∞–¥–Ω–µ–º –ø–ª–∞–Ω–µ –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å –≥–æ—Ä–æ–¥—Å–∫–æ–π –ø–µ–π–∑–∞–∂ —Å –≤—ã—Å–æ—Ç–Ω—ã–º–∏ –∑–¥–∞–Ω–∏—è–º–∏ –∏ –¥–æ—Ä–æ–≥–∞–º–∏, —á—Ç–æ —Å–æ–∑–¥–∞–µ—Ç –æ—â—É—â–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ —Å–≤–æ–±–æ–¥—ã. –≠—Ç–æ—Ç –∞–≤—Ç–æ–º–æ–±–∏–ª—å, –Ω–µ—Å–æ–º–Ω–µ–Ω–Ω–æ, –ø—Ä–∏–≤–ª–µ—á–µ—Ç –≤–Ω–∏–º–∞–Ω–∏–µ –≤—Å–µ—Ö –ª—é–±–∏—Ç–µ–ª–µ–π —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –º–∞—à–∏–Ω –∏ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –≤ —Ü–µ–ª–æ–º.\n\n–¢–µ–∫—Å—Ç –æ–ø–∏—Å–∞–Ω–∏—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–µ–¥—É—é—â–∏–º:\n\n\"–≠—Ç–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å –∫—Ä–∞—Å–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞ —Å —á–µ—Ä–Ω—ã–º–∏ –¥–∏—Å–∫–∞–º–∏ –Ω–∞ –∫–æ–ª–µ—Å–∞—Ö. –û–Ω –≤—ã–≥–ª—è–¥–∏—Ç –æ—á–µ–Ω—å –º–æ—â–Ω–æ –∏ –¥–∏–Ω–∞–º–∏—á–Ω–æ, —Å–æ–∑–¥–∞–≤–∞—è –æ—â—É—â–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ —Å–≤–æ–±–æ–¥—ã. –ù–∞ –∑–∞–¥–Ω–µ–º –ø–ª–∞–Ω–µ –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å –≥–æ—Ä–æ–¥—Å–∫–æ–π –ø–µ–π–∑–∞–∂ —Å –≤—ã—Å–æ—Ç–Ω—ã–º–∏ –∑–¥–∞–Ω–∏—è–º–∏, —á—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –µ—â–µ –±–æ–ª—å—à–µ –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã. –≠—Ç–æ—Ç –∞–≤—Ç–æ–º–æ–±–∏–ª—å –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥–æ–π–¥–µ—Ç –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ –ª—é–±–∏—Ç —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –º–∞—à–∏–Ω—ã –∏ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏ –≤ —Ü–µ–ª–æ–º.\"",
  "hexColor": "#5D4641",
  "intColor": 6112833,
  "scalarColor": [
    65.0,
    70.0,
    93.0,
    0.0
  ]
}
```

### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞, –≤–∫–ª—é—á–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫—É Java –∏ Gradle. –õ–∏–±–æ —Å–∫–∞—á–∞–π—Ç–µ IntelijiIDEA.
2. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–µ—Ä–≤–µ—Ä–∞: `git clone https://github.com/ansenya/sampleServ.git`
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–µ–∫—Ç–∞ sampleServ.
4. –°–∫–∞—á–∞–π—Ç–µ [yolov4.weighs](https://github.com/AlexeyAB/darknet/releases/download/darknet_yolo_v3_optimal/yolov4.weights) –≤ –ø–∞–ø–∫—É `src/main/config/yolo/`.
5. –°–∫–∞—á–∞–π—Ç–µ [yolo9000.weighs](https://drive.google.com/file/d/1-lVakJPz4RaegjP70n2yWK1nxubQIQjX/view?usp=sharing) –≤ –ø–∞–ø–∫—É `src/main/config/yolo9000/`.
6. –î–æ–±–∞–≤—å—Ç–µ (–∏–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ) [opencv-470.jar](https://drive.google.com/file/d/1NtxUHgiKtgyNM9bgBkAnuL8RbbN-XKz9/view?usp=sharing) –≤ –ø–∞–ø–∫—É `src/main/resources/libs`.
7. –î–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é `opencv-470.jar` –≤ **project_structure** (–µ—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ IntelijiIDEA) —Ñ–∞–π–ª –Ω–∞—Ç–∏–≤–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ [libopencv_java470.so](https://drive.google.com/file/d/1wfKi149eeDpARoXjrKdwEXBng0eddxlF/view?usp=sharing).  
[`—Ç—É—Ç–æ—Ä–∏–∞–ª`](https://drive.google.com/file/d/1mt4dAaLLfO7xRpDLP4znJf3hfKq-eJ4n/view?usp=sharing).
8. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä. –°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8082.
  
–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å POST-–∑–∞–ø—Ä–æ—Å –Ω–∞ http://localhost:8082/process, —É–∫–∞–∑–∞–≤ —Ñ–∞–π–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ —Å –∏–º–µ–Ω–µ–º `file`. –ü–æ–ª—É—á–∏—Ç–µ –æ—Ç–≤–µ—Ç —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.



## –°–±–æ—Ä–∫–∞ OpenCV –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å YOLOv4 –≤ Java
### –°–±–æ—Ä–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–µ:
1. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π OpenCV —Å GitHub –ø–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Å—ã–ª–∫–µ: https://github.com/opencv/opencv/archive/refs/tags/4.7.0.zip.
2. –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º "build", –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ç–∞–ª–æ–≥–∞ OpenCV, –≥–¥–µ –±—É–¥–µ—Ç –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞.
3. –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ —ç—Ç–æ–π –ø–∞–ø–∫–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É `cmake ..`
4. –ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É `make -j<N>`, –≥–¥–µ `<N>` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –≤ —Å–∏—Å—Ç–µ–º–µ.
5. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –±—É–¥–µ—Ç —Å–æ–±—Ä–∞–Ω–∞.  
### –°–±–æ—Ä–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞ –≤–∏–¥–µ–æ–∫–∞—Ä—Ç–µ:
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã CUDA –∏ cuDNN. 
2. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π OpenCV —Å GitHub –ø–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Å—ã–ª–∫–µ: https://github.com/opencv/opencv/archive/refs/tags/4.7.0.zip.
3. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã OpenCV, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π CUDA, –ø–æ —Å—Å—ã–ª–∫–µ: https://github.com/opencv/opencv_contrib/archive/refs/tags/4.7.0.zip.
4. –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º "build", –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ç–∞–ª–æ–≥–∞ OpenCV, –≥–¥–µ –±—É–¥–µ—Ç –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞.
5. –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ —ç—Ç–æ–π –ø–∞–ø–∫–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É:
`cmake -D CMAKE_BUILD_TYPE=RELEASE -D CMAKE_INSTALL_PREFIX=/usr/local -D WITH_CUDA=ON -D ENABLE_FAST_MATH=1 -D CUDA_FAST_MATH=1 -D WITH_CUBLAS=1 -D WITH_TBB=ON -D BUILD_opencv_java=ON -D BUILD_opencv_python3=OFF -D BUILD_opencv_python2=OFF -D BUILD_TESTS=ON -D BUILD_PERF_TESTS=ON -D OPENCV_EXTRA_MODULES_PATH=<path>/modules .. `  
–ó–¥–µ—Å—å `<path>` - –ø—É—Ç—å –∫ –∫–∞—Ç–∞–ª–æ–≥—É, –≥–¥–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã OpenCV (`opencv_contrib`).
6. –ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É `make -j<N>`, –≥–¥–µ `<N>` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –≤ —Å–∏—Å—Ç–µ–º–µ.
7. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –±—É–¥–µ—Ç —Å–æ–±—Ä–∞–Ω–∞.

`opencv-470.jar` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ `../build/bin/`  
`libopencv_java470.so` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ `../build/lib/`
